.btn {
    @include ripple;
    --button-default-active-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0,0,0,.12);
    --button-default-bg: var(--tavenem-color-default);
    --button-default-color: var(--tavenem-color-default-text);
    --button-default-hover-bg: var(--tavenem-color-default-darken);
    --button-default-hover-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0,0,0,.12);
    --button-default-shadow: 0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12);
    --button-active-shadow: var(--button-inherited-active-shadow, var(--button-default-active-shadow));
    --button-bg: var(--button-inherited-bg, var(--button-default-bg));
    --button-border-color: var(--button-inherited-border-color, var(--tavenem-color-border));
    --button-border-style: var(--button-inherited-border-style, none);
    --button-color: var(--button-inherited-color, var(--button-default-color));
    --button-font-size: var(--button-inherited-font-size, var(--tavenem-font-size-button));
    --button-hover-bg: var(--button-inherited-hover-bg, var(--button-default-hover-bg));
    --button-hover-color: var(--button-inherited-hover-color, var(--tavenem-color-default-text));
    --button-hover-shadow: var(--button-inherited-hover-shadow, var(--button-default-hover-shadow));
    --button-padding-x: var(--button-inherited-padding-x, 16px);
    --button-padding-y: var(--button-inherited-padding-y, 6px);
    --button-shadow: var(--button-inherited-shadow, var(--button-default-shadow));
    align-items: center;
    background-color: var(--button-bg);
    border-color: var(--button-border-color);
    border-radius: var(--tavenem-border-radius);
    border-style: var(--button-border-style);
    border-width: 1px;
    box-shadow: var(--button-shadow);
    box-sizing: border-box;
    color: var(--button-color);
    cursor: pointer;
    display: inline-flex;
    font-size: var(--button-font-size);
    font-weight: var(--tavenem-font-weight-semibold);
    gap: .25rem;
    justify-content: center;
    line-height: var(--tavenem-lineheight-button);
    margin: 0;
    min-width: 4rem;
    outline: 0;
    padding: var(--button-padding-y) var(--button-padding-x);
    position: relative;
    text-decoration: none;
    text-transform: var(--tavenem-texttransform-button);
    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
    user-select: none;
    vertical-align: middle;
    -moz-appearance: none;
    -webkit-appearance: none;
    -webkit-tap-highlight-color: transparent;

    > *:first-child {
        border-top-left-radius: inherit;
        border-bottom-left-radius: inherit;
    }

    > *:last-child {
        border-top-right-radius: inherit;
        border-bottom-right-radius: inherit;
    }

    > *:only-child {
        border-radius: inherit;
    }

    &::-moz-focus-inner {
        border-style: none;
    }

    &:hover,
    &:focus-visible {
        background-color: var(--button-hover-bg);
        box-shadow: var(--button-hover-shadow);
        color: var(--button-hover-color);
    }

    &:active {
        box-shadow: var(--button-active-shadow);
    }

    &:disabled, &.disabled {
        --button-active-shadow: none;
        --button-bg: var(--tavenem-color-action-disabled-bg);
        --button-color: var(--tavenem-color-text-disabled);
        --button-hover-shadow: none;
        --button-shadow: none;
        background-color: var(--tavenem-color-action-disabled-bg) !important;
        color: var(--tavenem-color-text-disabled) !important;
        cursor: default;
        pointer-events: none;
    }

    &.small {
        --button-font-size: calc(var(--tavenem-font-size-button) - 1px);
        --button-padding-x: 10px;
        --button-padding-y: 4px;
    }

    &.large {
        --button-font-size: calc(var(--tavenem-font-size-button) + 1px);
        --button-padding-x: 22px;
        --button-padding-y: 8px;
    }

    &.outlined {
        --button-active-shadow: none;
        --button-bg: transparent;
        --button-border-style: solid;
        --button-color: var(--tavenem-color-action);
        --button-hover-bg: var(--tavenem-color-action-hover-bg);
        --button-hover-color: var(--tavenem-color-action);
        --button-hover-shadow: none;
        --button-shadow: none;
        padding: calc(var(--button-padding-y) - 1px) calc(var(--button-padding-x) - 1px);

        &:disabled, &.disabled {
            --button-border-color: var(--tavenem-color-action-disabled-bg);
        }
    }

    &.border {
        --button-border-style: solid;
    }

    @each $theme in $theme-colors {
        &.#{$theme} {
            --button-bg: var(--tavenem-color-#{$theme});
            --button-border-color: var(--tavenem-color-#{$theme}-text);
            --button-color: var(--tavenem-color-#{$theme}-text);
            --button-hover-bg: var(--tavenem-color-#{$theme}-darken);
            --button-hover-color: var(--tavenem-color-#{$theme}-text);
            color: var(--button-color);

            &.bg-alt, &.darken {
                --button-bg: var(--tavenem-color-#{$theme}-darken);
                --button-hover-bg: var(--tavenem-color-#{$theme}-darken-2);
            }

            &.lighten {
                --button-bg: var(--tavenem-color-#{$theme}-lighten);
                --button-hover-bg: var(--tavenem-color-#{$theme});
            }

            &.outlined {
                --button-bg: transparent;
                --button-border-color: var(--tavenem-color-#{$theme});
                --button-color: var(--tavenem-color-#{$theme});
                --button-hover-bg: var(--tavenem-color-#{$theme}-hover);
                --button-hover-color: var(--tavenem-color-#{$theme});
            }

            &.bg-alt, &.filled {
                background-color: var(--button-bg);
            }

            &.darken, &.lighten, &.filled {
                color: var(--button-color);
            }

            &.filled {
                &.bg-alt, &.darken, &.lighten {
                    background-color: var(--button-bg);
                }
            }

            &.outlined {
                border-color: var(--button-border-color);
            }
        }
    }
}
a.btn {
    &:hover:not(.disabled, :disabled),
    &:focus:not(.disabled, :disabled) {
        color: var(--button-hover-color);
    }

    @each $theme in $theme-colors {
        &.#{$theme} {
            --button-hover-color: var(--tavenem-color-#{$theme}-text);
        }
    }
}

.btn-text {
    --button-default-active-shadow: none;
    --button-default-bg: transparent;
    --button-default-color: inherit;
    --button-default-hover-bg: var(--tavenem-color-action-hover-bg);
    --button-default-hover-shadow: none;
    --button-default-shadow: none;
    min-width: 0;

    &.small {
        --button-font-size: calc(var(--tavenem-font-size-button) - 1px);
        --button-padding-x: 5px;
    }

    &.large {
        --button-font-size: calc(var(--tavenem-font-size-button) + 1px);
        --button-padding-x: 11px;
    }

    &:disabled, &.disabled {
        --button-bg: transparent;
        background-color: transparent !important;
    }

    @each $theme in $theme-colors {
        &.#{$theme} {
            --button-bg: transparent;
            --button-border-color: var(--tavenem-color-#{$theme});
            --button-color: var(--tavenem-color-#{$theme});
            --button-hover-bg: var(--tavenem-color-#{$theme}-hover);
            --button-hover-color: var(--tavenem-color-#{$theme});
            color: var(--button-color);

            &.bg-alt, &.darken {
                --button-color: var(--tavenem-color-#{$theme}-darken);
                --button-hover-bg: var(--tavenem-color-#{$theme}-hover-dark);
                --button-hover-color: var(--tavenem-color-#{$theme}-darken);
            }

            &.lighten {
                --button-color: var(--tavenem-color-#{$theme}-lighten);
                --button-hover-bg: var(--tavenem-color-#{$theme}-hover-light);
                --button-hover-color: var(--tavenem-color-#{$theme}-lighten);
            }

            &.bg-alt, &.filled {
                background-color: var(--button-bg);
            }

            &.darken, &.lighten, &.filled {
                color: var(--button-color);
            }

            &.filled {
                &.bg-alt, &.darken, &.lighten {
                    background-color: var(--button-bg);
                }
            }

            &.outlined {
                border-color: var(--button-border-color);
            }
        }
    }
}
a.btn-text {
    &:hover:not(.disabled, :disabled),
    &:focus:not(.disabled, :disabled) {
        color: var(--button-hover-color);
    }

    @each $theme in $theme-colors {
        &.#{$theme} {
            --button-hover-color: var(--tavenem-color-#{$theme}-lighten);

            &.darken {
                --button-hover-color: var(--tavenem-color-#{$theme});
            }

            &.lighten {
                --button-hover-color: var(--tavenem-color-#{$theme}-lighten-2);
            }
        }
    }
}

.btn-icon {
    --button-default-active-shadow: none;
    --button-default-bg: transparent;
    --button-default-color: inherit;
    --button-default-hover-bg: var(--tavenem-color-action-hover-bg);
    --button-default-hover-shadow: none;
    --button-default-shadow: none;
    --button-font-size: var(--button-inherited-font-size-icon, 1.5rem);
    --button-padding-y: var(--button-inherited-padding-y-icon, 6px);
    border-radius: 9999px;
    flex: 0 0 auto;
    min-width: calc(var(--button-font-size) + (var(--button-padding-y) * 2));
    padding: var(--button-padding-y) var(--button-padding-y);
    text-align: center;

    &:after {
        transform: scale(7,7);
    }

    .icon {
        font-size: inherit;
    }

    &.small {
        --button-font-size: 1.25rem;
        --button-padding-y: 5px;
    }

    &.large {
        --button-font-size: 2rem;
        --button-padding-y: 5px;
    }

    &.filled {
        --button-active-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0,0,0,.12);
        --button-bg: var(--tavenem-color-default);
        --button-color: var(--tavenem-color-default-text);
        --button-hover-bg: var(--tavenem-color-default-darken);
        --button-hover-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0,0,0,.12);
        --button-shadow: 0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12);
    }

    &.outlined {
        padding: calc(var(--button-padding-y) - 1px) calc(var(--button-padding-y) - 1px);
    }

    @each $theme in $theme-colors {
        &.#{$theme} {
            --button-bg: transparent;
            --button-color: var(--tavenem-color-#{$theme});
            --button-hover-bg: var(--tavenem-color-#{$theme}-hover);
            --button-hover-color: var(--tavenem-color-#{$theme});
            color: var(--button-color);

            &.bg-alt, &.darken {
                --button-bg: var(--tavenem-color-#{$theme}-hover);
                --button-color: var(--tavenem-color-#{$theme}-darken);
                --button-hover-bg: var(--tavenem-color-#{$theme}-hover-dark);
                --button-hover-color: var(--tavenem-color-#{$theme}-darken);
            }

            &.lighten {
                --button-bg: var(--tavenem-color-#{$theme}-hover);
                --button-color: var(--tavenem-color-#{$theme}-lighten);
                --button-hover-bg: var(--tavenem-color-#{$theme}-hover-light);
                --button-hover-color: var(--tavenem-color-#{$theme}-lighten);
            }

            &.filled {
                --button-bg: var(--tavenem-color-#{$theme});
                --button-color: var(--tavenem-color-#{$theme}-text);
                --button-hover-bg: var(--tavenem-color-#{$theme}-darken);
                --button-hover-color: var(--tavenem-color-#{$theme}-text);

                &.bg-alt {
                    --button-bg: var(--tavenem-color-#{$theme}-darken);
                }

                &.darken {
                    --button-hover-bg: var(--tavenem-color-#{$theme}-darken-2);
                }

                &.lighten {
                    --button-hover-bg: var(--tavenem-color-#{$theme});
                }

                &.bg-alt, &.darken, &.lighten {
                    background-color: var(--button-bg);
                }
            }

            &.bg-alt, &.filled {
                background-color: var(--button-bg);
            }

            &.darken, &.lighten, &.filled {
                color: var(--button-color);
            }

            &.outlined {
                border-color: var(--button-border-color);
            }
        }
    }
}
