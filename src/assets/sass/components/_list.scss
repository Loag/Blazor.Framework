.list {
    --list-hover-bg: var(--tavenem-color-action-hover-bg);
    --list-active-bg: var(--tavenem-color-primary-hover);
    --list-active-color: var(--tavenem-color-primary);
    color: var(--tavenem-color-action);
    display: flex;
    flex-direction: column;
    list-style: none;
    margin: 0;
    overflow: auto;
    padding: 0;
    padding-bottom: .5em;
    padding-top: .5em;
    position: relative;
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;

    > * {
        @include ripple;
        align-items: center;
        background-color: transparent;
        box-sizing: border-box;
        color: inherit;
        column-gap: .5em;
        display: flex;
        flex: 0 0 auto;
        justify-content: flex-start;
        list-style: none;
        padding: .75em 1em;
        position: relative;
        text-align: start;
        text-decoration: none;
        transition: background-color 150ms cubic-bezier(.4,0,.2,1) 0ms;
        width: 100%;
        -webkit-tap-highlight-color: transparent;

        &:focus-visible, &:hover {
            background-color: transparent;
            color: inherit;
        }

        > .icon {
            flex-shrink: 0;
            margin: -.25em;
        }

        > .avatar {
            flex-shrink: 0;
            margin: -.25em;
        }

        &:disabled, &.disabled {
            color: var(--tavenem-color-action-disabled) !important;
            cursor: default !important;
            pointer-events: none !important;

            .icon {
                color: var(--tavenem-color-action-disabled) !important;
            }
        }
    }

    > .subheader {
        font-size: .875em;
        font-weight: var(--tavenem-font-weight-bold);
        padding-bottom: 1.25em;

        &.inset {
            padding-inline-start: 4.5em;
        }

        &.sticky {
            background-color: inherit;
            position: sticky;
            top: 0;
            z-index: 1;
        }
    }

    > .active {
        background-color: var(--list-active-bg);
        border-inline-end: 1px solid var(--list-active-color);
        color: var(--list-active-color);
        padding-inline-end: calc(1em - 1px);
    }

    .clickable > *, > .clickable, a, button {
        background-color: transparent;
        border: 0;
        border-radius: 0;
        cursor: pointer;
        margin: 0;
        outline: 0;
        transition: background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
        user-select: none;
        vertical-align: middle;
        -webkit-appearance: none;
        -webkit-tap-highlight-color: transparent;

        &:hover,
        &:focus:not(.active) {
            background-color: var(--list-hover-bg);
        }

        &:disabled, &.disabled {
            &:hover,
            &:focus:not(.active) {
                background-color: transparent;
            }
        }
    }

    &:disabled, &.disabled {
        > * {
            color: var(--tavenem-color-action-disabled) !important;
            cursor: default !important;
            pointer-events: none !important;

            .icon {
                color: var(--tavenem-color-action-disabled) !important;
            }
        }

        > .clickable, a, button {
            &:hover,
            &:focus:not(.active) {
                background-color: transparent;
            }
        }
    }

    .list {
        padding-inline-start: 2em;
    }

    &.highlight-start {
        > .active {
            border-inline-start: 1px solid var(--list-active-color);
            border-inline-end: none;
            padding-inline-start: calc(1em - 1px);
            padding-inline-end: 1em;
        }

        .list > .active {
            padding-inline-start: calc(2em - 1px);
        }
    }

    &.dense {
        padding-bottom: .25em;
        padding-top: .25em;

        > * {
            padding-bottom: .25em;
            padding-top: .25em;
        }
    }

    &.filled {
        background-color: var(--tavenem-color-bg-surface);
        color: var(--tavenem-color-action);
    }

    &.can-drop {
        &:not(:empty) > *:last-child {
            margin-bottom: 2rem;
        }

        > .can-drop:hover {
            margin-top: 2rem;
        }
    }

    @each $theme in $theme-colors {
        &.#{$theme} {
            --list-hover-bg: var(--tavenem-color-#{$theme}-hover);
            --list-active-bg: var(--tavenem-color-#{$theme}-hover);
            --list-active-color: var(--tavenem-color-#{$theme});

            &, &.darken, &.lighten, &.filled, &.outlined {
                color: var(--tavenem-color-action);
            }

            &.filled {
                --list-hover-bg: var(--tavenem-color-#{$theme}-hover-bright);
                --list-active-bg: var(--tavenem-color-#{$theme});
                --list-active-color: var(--tavenem-color-#{$theme}-text);
                background-color: var(--tavenem-color-#{$theme}-hover);

                &.bg-alt {
                    background-color: var(--tavenem-color-#{$theme}-hover-dark);
                }
            }

            &.darken {
                --list-hover-bg: var(--tavenem-color-#{$theme}-hover-dark);
                --list-active-bg: var(--tavenem-color-#{$theme}-hover-dark);
                --list-active-color: var(--tavenem-color-#{$theme}-darken);
            }

            &.lighten {
                --list-hover-bg: var(--tavenem-color-#{$theme}-hover-light);
                --list-active-bg: var(--tavenem-color-#{$theme}-hover-light);
                --list-active-color: var(--tavenem-color-#{$theme}-lighten);
            }
        }
    }
}

.contents {
    color: var(--tavenem-color-text-secondary);

    > .active {
        border-left: 1px solid var(--list-active-color);
        border-right: none;
    }

    > .scroll-active {
        background-color: var(--list-active-bg);
        border-left: 1px solid var(--list-active-color);
        color: var(--list-active-color);
        padding-right: calc(1em - 1px);
    }
}
