{"version":3,"file":"tavenem-keylistener.js","sources":["../../../../assets/scripts/tavenem-keylistener.ts"],"sourcesContent":[null],"names":["whitespaceRegExp","RegExp","KeyListener","constructor","dotNetRef","options","this","_keyOptions","_observedChildren","_regexOptions","_dotNetRef","_options","connect","element","keys","class","_observer","_element","MutationObserver","onDomChanged","keyListener","observe","attributes","childList","subtree","keyOption","key","setKeyOption","child","getElementsByClassName","attachHandlers","disconnect","detachHandlers","length","startsWith","endsWith","regex","substring","push","toLowerCase","preventDown","replace","preventUp","stopDown","stopUp","indexOf","addEventListener","onKeyDown","onKeyUp","removeEventListener","filter","x","matchesKeyCombination","option","args","shift","shiftKey","ctrl","ctrlKey","alt","altKey","meta","metaKey","any","includes","mutationsList","self","targetClass","mutation","addedNodes","Element","classList","contains","removedNodes","KeyboardEvent","invoke","hasOwnProperty","keyOptions","processKeyDown","subscribeDown","test","eventArgs","toKeyboardEventArgs","Type","invokeMethodAsync","processKeyUp","subscribeUp","preventDefault","stopPropagation","Key","Code","code","Location","location","Repeat","repeat","CtrlKey","ShiftKey","AltKey","MetaKey","listenForKeyEvent","elementId","document","getElementById","disconnectKeyEvent","updateKeyEvent"],"mappings":"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"}